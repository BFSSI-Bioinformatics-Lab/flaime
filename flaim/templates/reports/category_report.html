{% extends 'reports_base.html' %}
{% load static %}
{% block section %}Category Report{% endblock %}

{% block header %}
  <div style="flex: 10%">
    <img src="{% static 'images/category_icons/' %}{{ image }}.png" height="160" width="160" style="padding-bottom: 5px">
  </div>
  <div style="flex: 90%;padding-left: 10px">
    <div style="padding-left: 60px">
      <div class="row" style="text-align: left">
      <h1>{{ category }}</h1>
        <div class="dropdown show" style="padding-top: 10px; padding-left: 10px">
          <a class="btn btn-primary btn-sm dropdown-toggle" href="#" role="button"
             id="dropdownMenuLink"
             data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            More
          </a>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuLink" style="overflow-y:auto; max-height: 300px">
            {% for product in product_categories %}
              <a class="dropdown-item" href="/reports/category/{{ product }}/">{{ product }}</a>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>

    <div style="display: flex;text-align:center">
      <div style="flex: auto">
        Product Count</br>
        <h1>{{ product_count }}</h1>
      </div>
      <div style="flex: auto">
        Median Calories
        <h1>{{ calorie_median }}</h1>
      </div>
      <div style="flex: auto">
        Median Sodium
        <h1 class={{ sodium_color }}>{{ sodium_median }}</h1>
      </div>
      <div style="flex: auto">
        Median Sat. Fat
        <h1 class={{ fat_color }}>{{ fat_median }}</h1>
      </div>
      <div style="flex: auto">
        Median Sugar
        <h1 class={{ sugar_color }}>{{ sugar_median }}</h1>
      </div>
    </div>
  </div>

{% endblock %}

{% block body %}
  <div style="flex: 33%">
    {#  how the product counts compares to other categories #}
    {#  how the products are spread across stores #}
    <b>Overview:</b> Eu condimentum tortor bibendum. Sed elemum lectus pharetra, pulvinar massa a,
    dapibus quam. Nulla quis nulla porttitor, blandit tellus id, pretium ipsum. Etiam velit nunc, ultricies id quam a,
    finibus maximus eros. Pellentesque tellus ipsum, consectetur nec lectus non, ornare molestie leo.
  </div>
  <div style="flex: 33%">
    <b>Nutrients:</b> Sed euismod pharetra massa, et fringilla elit consequat et. Mauris tempus molestie hendrerit.
    Fusce vitae lorem porttitor, euismod metus condimentum, faucibus elit. Ut eu metus purus. Praesent condimentum nisl
    et neque sollicitudin, eu lacinia sapien pulvinar.
  </div>
  <div style="flex: 33%">
    <b>Ingredients:</b> Vivamus ornare ante turpis, vel pulvinar erat posuere laoreet. Nullam ac enim a elit aliquet.
    Sed cursus metus vel ipsum dapibus egestas. Cras magna eros, pretium et scelerisque cursus, feugiat quis est.
    Fusce facilisis, sem nec tempor ultricies, lacus ipsum imperdiet mi, sed scelerisque arcu nunc laoreet nisl.
  </div>
{% endblock %}

{% block footer %}
  {% block product_javascript %}
    <script src="{% static 'bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'plotly.js-dist/plotly.js' %}"></script>
  {% endblock %}
  <div style="flex: 20%;padding-top: 20px">
    <h3>
      Nutrient Distribution
    </h3>
    <p>
      In placerat vestibulum massa, ac blandit libero
      iaculis vitae. Cras porttitor sapien ut arcu cursus condimentum. Nullam porta finibus laoreet. Sed lacus tellus,
      vestibulum in cursus in, pulvinar sit amet tellus. Praesent dignissim, quam eu condimentum consectetur, tortor
      lectus lacinia dui, ut malesuada lectus eros at nisl. Cras at est vitae augue pellentesque iaculis. In quis
      finibus leo.
    </p>
  </div>
  <div style="flex: 80%">
    {% autoescape off %}
      {{ figure1 }}
    {% endautoescape %}
  </div>
{% endblock %}
